{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  methods: {\n    deleteBook: function deleteBook(row) {\n      var _this = this;\n\n      axios.delete('http://localhost:8181/book/deleteById/' + row.id).then(function (resp) {\n        _this.$alert('《' + row.name + '》删除成功!', '消息', {\n          confirmButtonText: '确定',\n          callback: function callback(action) {\n            window.location.reload();\n          }\n        });\n      });\n    },\n    edit: function edit(row) {\n      this.$router.push({\n        path: '/update',\n        query: {\n          id: row.id\n        }\n      });\n    },\n    page: function page(currentPage) {\n      // alert(currentPage);\n      var _this = this;\n\n      axios.get('http://localhost:8181/book/findAll/' + currentPage + '/6').then(function (resp) {\n        _this.tableData = resp.data.content;\n        _this.total = resp.data.totalElements;\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    axios.get('http://localhost:8181/book/findAll/1/6').then(function (resp) {\n      _this.tableData = resp.data.content;\n      _this.total = resp.data.totalElements;\n    });\n  },\n  data: function data() {\n    return {\n      total: null,\n      tableData: null\n    };\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;EACAA;IACAC,UADA,sBACAC,GADA,EACA;MACA;;MACAC;QACAC;UACAC,uBADA;UAEAC;YACAC;UACA;QAJA;MAMA,CAPA;IAQA,CAXA;IAYAC,IAZA,gBAYAN,GAZA,EAYA;MACA;QACAO,eADA;QAEAC;UACAC;QADA;MAFA;IAMA,CAnBA;IAoBAC,IApBA,gBAoBAC,WApBA,EAoBA;MACA;MACA;;MACAV;QACAC;QACAA;MACA,CAHA;IAIA;EA3BA,CADA;EA8BAU,OA9BA,qBA8BA;IACA;;IACAX;MACAC;MACAA;IACA,CAHA;EAIA,CApCA;EAsCAW,IAtCA,kBAsCA;IACA;MACAC,WADA;MAEAC;IAFA;EAIA;AA3CA","names":["methods","deleteBook","row","axios","_this","confirmButtonText","callback","window","edit","path","query","id","page","currentPage","created","data","total","tableData"],"sourceRoot":"src/views","sources":["BookManager.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <el-table\r\n      :data=\"tableData\"\r\n      border\r\n      style=\"width: 50%\"\r\n      row-style=\"heigth:\"\r\n  >\r\n    <el-table-column\r\n        fixed\r\n        prop=\"id\"\r\n        label=\"编号\"\r\n        width=\"150\">\r\n    </el-table-column>\r\n    <el-table-column\r\n        prop=\"name\"\r\n        label=\"书名\"\r\n        width=\"120\">\r\n    </el-table-column>\r\n    <el-table-column\r\n        prop=\"author\"\r\n        label=\"作者\"\r\n        width=\"120\">\r\n    </el-table-column>\r\n    <el-table-column\r\n        fixed=\"right\"\r\n        label=\"操作\"\r\n        width=\"100\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button @click=\"edit(scope.row)\" type=\"text\" size=\"small\">修改</el-button>\r\n        <el-button @click=\"deleteBook(scope.row)\" type=\"text\" size=\"small\">删除</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n\r\n    <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        page-size=6\r\n        :total=\"total\"\r\n        @current-change=\"page\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    deleteBook(row){\r\n      const _this = this\r\n      axios.delete('http://localhost:8181/book/deleteById/'+row.id).then(function(resp){\r\n        _this.$alert('《'+row.name+'》删除成功!', '消息', {\r\n          confirmButtonText: '确定',\r\n          callback: action => {\r\n            window.location.reload();\r\n          }\r\n        });\r\n      })\r\n    },\r\n    edit(row){\r\n      this.$router.push({\r\n        path:'/update',\r\n        query:{\r\n          id:row.id\r\n        }\r\n      })\r\n    },\r\n    page(currentPage){\r\n      // alert(currentPage);\r\n      const _this = this\r\n      axios.get('http://localhost:8181/book/findAll/'+currentPage+'/6').then(function(resp){\r\n        _this.tableData = resp.data.content;\r\n        _this.total = resp.data.totalElements;\r\n      })\r\n    }\r\n  },\r\n  created(){\r\n    const _this = this\r\n    axios.get('http://localhost:8181/book/findAll/1/6').then(function(resp){\r\n      _this.tableData = resp.data.content;\r\n      _this.total = resp.data.totalElements;\r\n    })\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      total:null,\r\n      tableData: null\r\n    }\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}